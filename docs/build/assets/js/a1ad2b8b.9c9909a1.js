"use strict";(self.webpackChunkicjia_accessibility_docs=self.webpackChunkicjia_accessibility_docs||[]).push([[5608],{3023:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var i=s(3696);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},7063:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"setup-guide","title":"Complete Setup Guide","description":"A comprehensive guide for setting up the ICJIA Accessibility Portal from scratch.","source":"@site/docs/setup-guide.md","sourceDirName":".","slug":"/setup-guide","permalink":"/docs/docs/setup-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/ICJIA/icjia-accessibility-status/tree/main/docs/docs/setup-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start (5 Minutes)","permalink":"/docs/docs/quick-start"},"next":{"title":"Authentication System","permalink":"/docs/docs/authentication"}}');var t=s(2540),l=s(3023);const r={},a="Complete Setup Guide",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Clone and Install",id:"step-1-clone-and-install",level:2},{value:"Step 2: Create Supabase Project",id:"step-2-create-supabase-project",level:2},{value:"Step 3: Get Supabase Credentials",id:"step-3-get-supabase-credentials",level:2},{value:"Step 4: Configure Environment",id:"step-4-configure-environment",level:2},{value:"Step 5: Run Database Migrations",id:"step-5-run-database-migrations",level:2},{value:"Migration 1: Initial Schema",id:"migration-1-initial-schema",level:3},{value:"Migration 2: API Keys and RLS Fixes",id:"migration-2-api-keys-and-rls-fixes",level:3},{value:"Migration 3: API Payloads Refactoring (Optional)",id:"migration-3-api-payloads-refactoring-optional",level:3},{value:"Step 6: Verify Database Setup",id:"step-6-verify-database-setup",level:2},{value:"Step 7: Start Development Servers",id:"step-7-start-development-servers",level:2},{value:"Step 8: Initial Admin Setup",id:"step-8-initial-admin-setup",level:2},{value:"Step 9: Create Your First API Key",id:"step-9-create-your-first-api-key",level:2},{value:"Step 10: Test the API",id:"step-10-test-the-api",level:2},{value:"Available Commands",id:"available-commands",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"complete-setup-guide",children:"Complete Setup Guide"})}),"\n",(0,t.jsx)(n.p,{children:"A comprehensive guide for setting up the ICJIA Accessibility Portal from scratch."}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node.js 20+"})," - Run ",(0,t.jsx)(n.code,{children:"nvm use"})," to automatically switch to the correct version"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Yarn 1.22.22"})," - Specified in ",(0,t.jsx)(n.code,{children:"package.json"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"A Supabase account"})," - Free tier works fine for development"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ubuntu 20.04+ server"})," - For production deployment (optional)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-1-clone-and-install",children:"Step 1: Clone and Install"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Clone the repository\ngit clone https://github.com/ICJIA/icjia-accessibility-status.git\ncd icjia-accessibility-status\n\n# Install dependencies\nyarn install\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-2-create-supabase-project",children:"Step 2: Create Supabase Project"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.a,{href:"https://supabase.com",children:"supabase.com"})," and sign in"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"New Project"'})," in your organization"]}),"\n",(0,t.jsxs)(n.li,{children:["Fill in the project details:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Name"}),": ",(0,t.jsx)(n.code,{children:"icjia-accessibility-portal"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Database Password"}),": Create a strong password and save it securely"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Region"}),": Choose closest to your users (East US for ICJIA)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pricing Plan"}),': Select "Free" for development']}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Create new project"'})]}),"\n",(0,t.jsx)(n.li,{children:"Wait 1-2 minutes for provisioning to complete"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-3-get-supabase-credentials",children:"Step 3: Get Supabase Credentials"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In your Supabase project dashboard, click ",(0,t.jsx)(n.strong,{children:"Settings"})," (gear icon)"]}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"API"})," section"]}),"\n",(0,t.jsxs)(n.li,{children:["Copy these two values:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Project URL"}),": Looks like ",(0,t.jsx)(n.code,{children:"https://xxxxx.supabase.co"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Anon/Public Key"}),": A long JWT token starting with ",(0,t.jsx)(n.code,{children:"eyJ..."})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-4-configure-environment",children:"Step 4: Configure Environment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Copy the sample environment file\ncp .env.sample .env\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Edit ",(0,t.jsx)(n.code,{children:".env"})," and update with your Supabase credentials:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Supabase Configuration (UPDATE THESE!)\nVITE_SUPABASE_URL=https://your-project-id.supabase.co\nVITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n\n# API Configuration (keep as-is for local development)\nVITE_API_URL=http://localhost:3001/api\n\n# Server Configuration (keep as-is for local development)\nPORT=3001\n\n# Frontend Configuration (keep as-is for local development)\nFRONTEND_URL=http://localhost:5173\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-5-run-database-migrations",children:"Step 5: Run Database Migrations"}),"\n",(0,t.jsxs)(n.p,{children:["You need to run ",(0,t.jsx)(n.strong,{children:"THREE SQL files"})," in order:"]}),"\n",(0,t.jsx)(n.h3,{id:"migration-1-initial-schema",children:"Migration 1: Initial Schema"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In Supabase dashboard, click ",(0,t.jsx)(n.strong,{children:"SQL Editor"})," in the sidebar"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"New query"'})," button"]}),"\n",(0,t.jsxs)(n.li,{children:["Open ",(0,t.jsx)(n.code,{children:"supabase/migrations/step_1_create_initial_schema.sql"})]}),"\n",(0,t.jsxs)(n.li,{children:["Copy ",(0,t.jsx)(n.strong,{children:"ALL"})," contents and paste into SQL Editor"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Run"'})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Expected output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"NOTICE: Created admin user with bcrypt-hashed password\nNOTICE: Created 6 sample sites\nNOTICE: Created score history records\nNOTICE: Database setup complete!\n"})}),"\n",(0,t.jsx)(n.h3,{id:"migration-2-api-keys-and-rls-fixes",children:"Migration 2: API Keys and RLS Fixes"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"New query"'})," button"]}),"\n",(0,t.jsxs)(n.li,{children:["Open ",(0,t.jsx)(n.code,{children:"supabase/migrations/step_2_api_keys_and_rls_fixes.sql"})]}),"\n",(0,t.jsxs)(n.li,{children:["Copy ",(0,t.jsx)(n.strong,{children:"ALL"})," contents and paste into SQL Editor"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Run"'})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Expected output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"NOTICE: \u2705 api_keys table created successfully\nNOTICE: \u2705 RLS enabled on api_keys table\nNOTICE: \ud83c\udf89 All migrations applied successfully!\n"})}),"\n",(0,t.jsx)(n.h3,{id:"migration-3-api-payloads-refactoring-optional",children:"Migration 3: API Payloads Refactoring (Optional)"}),"\n",(0,t.jsx)(n.p,{children:"If upgrading from an older version:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"New query"'})," button"]}),"\n",(0,t.jsxs)(n.li,{children:["Open ",(0,t.jsx)(n.code,{children:"supabase/migrations/step_3_refactor_to_api_payloads.sql"})]}),"\n",(0,t.jsxs)(n.li,{children:["Copy ",(0,t.jsx)(n.strong,{children:"ALL"})," contents and paste into SQL Editor"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Run"'})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-6-verify-database-setup",children:"Step 6: Verify Database Setup"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In Supabase dashboard, click ",(0,t.jsx)(n.strong,{children:"Table Editor"})]}),"\n",(0,t.jsxs)(n.li,{children:["You should see these tables:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"admin_users"})," (1 row)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sessions"})," (0 rows)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sites"})," (6 rows)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"score_history"})," (36 rows)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"app_documentation"})," (3 rows)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"api_payloads"})," (18 rows)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"api_keys"})," (0 rows)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"activity_log"})," (0 rows)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-7-start-development-servers",children:"Step 7: Start Development Servers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Start all three services\nyarn dev\n"})}),"\n",(0,t.jsx)(n.p,{children:"This starts:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Frontend"}),": ",(0,t.jsx)(n.a,{href:"http://localhost:5173",children:"http://localhost:5173"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Backend"}),": ",(0,t.jsx)(n.a,{href:"http://localhost:3001",children:"http://localhost:3001"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Documentation"}),": ",(0,t.jsx)(n.a,{href:"http://localhost:3002",children:"http://localhost:3002"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-8-initial-admin-setup",children:"Step 8: Initial Admin Setup"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Open your browser to ",(0,t.jsx)(n.code,{children:"http://localhost:5173"})]}),"\n",(0,t.jsx)(n.li,{children:"You'll be redirected to the Initial Setup page"}),"\n",(0,t.jsxs)(n.li,{children:["Set a secure password that meets all requirements:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"At least 8 characters"}),"\n",(0,t.jsx)(n.li,{children:"At least one uppercase letter"}),"\n",(0,t.jsx)(n.li,{children:"At least one lowercase letter"}),"\n",(0,t.jsx)(n.li,{children:"At least one number"}),"\n",(0,t.jsx)(n.li,{children:"At least one special character"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Confirm your password"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Set Password"'})]}),"\n",(0,t.jsx)(n.li,{children:"You'll be redirected to login page"}),"\n",(0,t.jsxs)(n.li,{children:["Log in with:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Username"}),": ",(0,t.jsx)(n.code,{children:"admin"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Password"}),": Your new password"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-9-create-your-first-api-key",children:"Step 9: Create Your First API Key"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["After logging in, click ",(0,t.jsx)(n.strong,{children:'"Admin"'})," in the navigation"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"API Keys"'})," in the sidebar"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Create New API Key"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Fill in the form:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Key Name"}),": ",(0,t.jsx)(n.code,{children:"Development"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scopes"}),": Check ",(0,t.jsx)(n.code,{children:"sites:write"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Expiration"}),": Leave blank (no expiration)"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:'"Create API Key"'})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Copy the key immediately"})," (displayed only once)"]}),"\n",(0,t.jsxs)(n.li,{children:["Add to ",(0,t.jsx)(n.code,{children:".env"})," file:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"API_KEY=sk_live_xxxxx...\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-10-test-the-api",children:"Step 10: Test the API"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Test the API import endpoint\nnode verify-api.js\n"})}),"\n",(0,t.jsx)(n.p,{children:"Expected output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\ud83d\ude80 Starting API Upload Tests...\n\u2705 Test 1: Single Site Upload - PASSED\n\u2705 Test 2: Batch Upload (3 Sites) - PASSED\n\u2705 Test 3: Duplicate Detection - PASSED\n"})}),"\n",(0,t.jsx)(n.h2,{id:"available-commands",children:"Available Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Development\nyarn dev              # Start all three services\nyarn dev:frontend     # Start frontend only\nyarn dev:backend      # Start backend only\nyarn dev:docs         # Start docs only\n\n# Building\nyarn build            # Build all services\nyarn build:frontend   # Build frontend only\nyarn build:docs       # Build docs only\n\n# Utilities\nyarn lint             # Run ESLint\nyarn typecheck        # Run TypeScript type checking\nyarn seed             # Populate database with sample data\n\n# Database Reset (Development Only)\nyarn reset:users      # Reset admin users and API keys\nyarn reset:app        # Complete database wipe\n"})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Explore the dashboard"})," - View sample sites at ",(0,t.jsx)(n.a,{href:"http://localhost:5173",children:"http://localhost:5173"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Create more API keys"})," - For different environments or services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Import real data"})," - Use the API to import your actual site data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Customize"})," - Modify the code to fit your needs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Deploy"})," - See ",(0,t.jsx)(n.a,{href:"./deployment/overview",children:"Deployment Guide"})," for production setup"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"./troubleshooting/common-issues",children:"Troubleshooting Guide"})," for common issues and solutions."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);