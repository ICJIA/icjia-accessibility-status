"use strict";(self.webpackChunkicjia_accessibility_docs=self.webpackChunkicjia_accessibility_docs||[]).push([[6653],{1699:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"deployment/pm2-environment-variables","title":"PM2 Environment Variables","description":"Comprehensive comparison of PM2 environment variables between development and production environments","source":"@site/docs/deployment/pm2-environment-variables.md","sourceDirName":"deployment","slug":"/deployment/pm2-environment-variables","permalink":"/docs/docs/deployment/pm2-environment-variables","draft":false,"unlisted":false,"editUrl":"https://github.com/ICJIA/icjia-accessibility-status/tree/main/docs/docs/deployment/pm2-environment-variables.md","tags":[],"version":"current","sidebarPosition":2.5,"frontMatter":{"title":"PM2 Environment Variables","sidebar_position":2.5,"description":"Comprehensive comparison of PM2 environment variables between development and production environments"},"sidebar":"tutorialSidebar","previous":{"title":"PM2 Configuration","permalink":"/docs/docs/deployment/pm2"},"next":{"title":"PM2 Ecosystem Configuration","permalink":"/docs/docs/deployment/pm2-ecosystem-config"}}');var r=s(2540),d=s(3023);const t={title:"PM2 Environment Variables",sidebar_position:2.5,description:"Comprehensive comparison of PM2 environment variables between development and production environments"},c="PM2 Environment Variables - Development vs Production",l={},o=[{value:"Overview",id:"overview",level:2},{value:"Backend Service Environment Variables",id:"backend-service-environment-variables",level:2},{value:"NODE_ENV",id:"node_env",level:3},{value:"PORT",id:"port",level:3},{value:"FRONTEND_URL",id:"frontend_url",level:3},{value:"VITE_SUPABASE_URL",id:"vite_supabase_url",level:3},{value:"VITE_SUPABASE_ANON_KEY",id:"vite_supabase_anon_key",level:3},{value:"Documentation Service Environment Variables",id:"documentation-service-environment-variables",level:2},{value:"NODE_ENV (Docusaurus)",id:"node_env-docusaurus",level:3},{value:"PORT (Docusaurus)",id:"port-docusaurus",level:3},{value:"Summary Table - All Variables",id:"summary-table---all-variables",level:2},{value:"Deployment Checklist",id:"deployment-checklist",level:2},{value:"Before Production Deployment",id:"before-production-deployment",level:3},{value:"Switching Between Environments",id:"switching-between-environments",level:3},{value:"Environment-Specific Behavior",id:"environment-specific-behavior",level:2},{value:"Development Environment",id:"development-environment",level:3},{value:"Production Environment",id:"production-environment",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"pm2-environment-variables---development-vs-production",children:"PM2 Environment Variables - Development vs Production"})}),"\n",(0,r.jsxs)(n.p,{children:["This document provides a comprehensive comparison of all environment variables configured in ",(0,r.jsx)(n.code,{children:"ecosystem.config.js"})," for both development and production deployments."]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The PM2 ecosystem configuration manages two services:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backend API"})," (Express server on port 3001)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"})," (Docusaurus on port 3002)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Each service has environment-specific configuration that changes between development and production."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"backend-service-environment-variables",children:"Backend Service Environment Variables"}),"\n",(0,r.jsx)(n.h3,{id:"node_env",children:"NODE_ENV"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Development"}),(0,r.jsx)(n.th,{children:"Production"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"development"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"production"})}),(0,r.jsxs)(n.td,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"YES"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Purpose"})}),(0,r.jsx)(n.td,{children:"Enable verbose logging, hot reload, development tools"}),(0,r.jsx)(n.td,{children:"Optimize performance, minimize logging"}),(0,r.jsx)(n.td,{children:"Critical"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Set in"})}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 166)"}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 166)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Used by"})}),(0,r.jsx)(n.td,{children:"Express, logging middleware"}),(0,r.jsx)(n.td,{children:"Express, logging middleware"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Impact"})}),(0,r.jsx)(n.td,{children:"Slower but more informative"}),(0,r.jsx)(n.td,{children:"Faster, less verbose"}),(0,r.jsx)(n.td,{children:"High"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configuration in ecosystem.config.js:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'env: {\n  NODE_ENV: "development",\n  PORT: 3001,\n  // ... other variables\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Production Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'env_production: {\n  NODE_ENV: "production",\n  PORT: 3001,\n  // ... other variables\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"port",children:"PORT"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Development"}),(0,r.jsx)(n.th,{children:"Production"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3001"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3001"})}),(0,r.jsxs)(n.td,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"NO"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Purpose"})}),(0,r.jsx)(n.td,{children:"Express server listening port"}),(0,r.jsx)(n.td,{children:"Express server listening port"}),(0,r.jsx)(n.td,{children:"Same"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Set in"})}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 167)"}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 167)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Used by"})}),(0,r.jsx)(n.td,{children:"server/index.ts (line 20)"}),(0,r.jsx)(n.td,{children:"server/index.ts (line 20)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Impact"})}),(0,r.jsx)(n.td,{children:"Backend accessible on localhost:3001"}),(0,r.jsx)(n.td,{children:"Backend accessible on localhost:3001"}),(0,r.jsx)(n.td,{children:"None"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Port remains the same in both environments. Nginx reverse proxy handles external routing."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"frontend_url",children:"FRONTEND_URL"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Development"}),(0,r.jsx)(n.th,{children:"Production"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:5173"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"https://accessibility.icjia.app"})}),(0,r.jsxs)(n.td,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"YES"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Purpose"})}),(0,r.jsx)(n.td,{children:"CORS origin for frontend requests"}),(0,r.jsx)(n.td,{children:"CORS origin for frontend requests"}),(0,r.jsx)(n.td,{children:"Critical"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Set in"})}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 168)"}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 168)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Used by"})}),(0,r.jsx)(n.td,{children:"server/index.ts (line 21-28)"}),(0,r.jsx)(n.td,{children:"server/index.ts (line 21-28)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Impact"})}),(0,r.jsx)(n.td,{children:"Allows Vite dev server requests"}),(0,r.jsx)(n.td,{children:"Allows production domain requests"}),(0,r.jsx)(n.td,{children:"High"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"CORS Configuration in server/index.ts:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'const FRONTEND_URL = process.env.FRONTEND_URL || "http://localhost:5173";\n\napp.use(\n  cors({\n    origin: FRONTEND_URL,\n    credentials: true,\n  })\n);\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Security Note:"})," This prevents CORS errors and ensures only authorized frontend can access the API."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"vite_supabase_url",children:"VITE_SUPABASE_URL"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Development"}),(0,r.jsx)(n.th,{children:"Production"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsx)(n.td,{children:"Same Supabase project URL"}),(0,r.jsx)(n.td,{children:"Same Supabase project URL"}),(0,r.jsxs)(n.td,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"NO"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Purpose"})}),(0,r.jsx)(n.td,{children:"Supabase database connection"}),(0,r.jsx)(n.td,{children:"Supabase database connection"}),(0,r.jsx)(n.td,{children:"Same"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Set in"})}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 169)"}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 169)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Used by"})}),(0,r.jsx)(n.td,{children:"server/utils/supabase.ts"}),(0,r.jsx)(n.td,{children:"server/utils/supabase.ts"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Impact"})}),(0,r.jsx)(n.td,{children:"Connects to same database"}),(0,r.jsx)(n.td,{children:"Connects to same database"}),(0,r.jsx)(n.td,{children:"None"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Both environments use the same Supabase project. Data is shared between dev and prod."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"vite_supabase_anon_key",children:"VITE_SUPABASE_ANON_KEY"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Development"}),(0,r.jsx)(n.th,{children:"Production"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsx)(n.td,{children:"Same Supabase anon key"}),(0,r.jsx)(n.td,{children:"Same Supabase anon key"}),(0,r.jsxs)(n.td,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"NO"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Purpose"})}),(0,r.jsx)(n.td,{children:"Supabase authentication key"}),(0,r.jsx)(n.td,{children:"Supabase authentication key"}),(0,r.jsx)(n.td,{children:"Same"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Set in"})}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 170)"}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 170)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Used by"})}),(0,r.jsx)(n.td,{children:"server/utils/supabase.ts"}),(0,r.jsx)(n.td,{children:"server/utils/supabase.ts"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Impact"})}),(0,r.jsx)(n.td,{children:"Authenticates with Supabase"}),(0,r.jsx)(n.td,{children:"Authenticates with Supabase"}),(0,r.jsx)(n.td,{children:"None"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Same key used in both environments for database access."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"documentation-service-environment-variables",children:"Documentation Service Environment Variables"}),"\n",(0,r.jsx)(n.h3,{id:"node_env-docusaurus",children:"NODE_ENV (Docusaurus)"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Development"}),(0,r.jsx)(n.th,{children:"Production"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"development"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"production"})}),(0,r.jsxs)(n.td,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"YES"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Purpose"})}),(0,r.jsx)(n.td,{children:"Enable hot reload, dev tools"}),(0,r.jsx)(n.td,{children:"Optimize build, minimize size"}),(0,r.jsx)(n.td,{children:"Critical"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Set in"})}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 265)"}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 265)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Used by"})}),(0,r.jsx)(n.td,{children:"Docusaurus build process"}),(0,r.jsx)(n.td,{children:"Docusaurus build process"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Impact"})}),(0,r.jsx)(n.td,{children:"Faster startup, live reload"}),(0,r.jsx)(n.td,{children:"Optimized static files"}),(0,r.jsx)(n.td,{children:"High"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"port-docusaurus",children:"PORT (Docusaurus)"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Development"}),(0,r.jsx)(n.th,{children:"Production"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3002"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3002"})}),(0,r.jsxs)(n.td,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"NO"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Purpose"})}),(0,r.jsx)(n.td,{children:"Docusaurus server port"}),(0,r.jsx)(n.td,{children:"Docusaurus server port"}),(0,r.jsx)(n.td,{children:"Same"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Set in"})}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 266)"}),(0,r.jsx)(n.td,{children:"ecosystem.config.js (line 266)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Used by"})}),(0,r.jsx)(n.td,{children:"docs/package.json (line 8)"}),(0,r.jsx)(n.td,{children:"docs/package.json (line 8)"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Impact"})}),(0,r.jsx)(n.td,{children:"Docs accessible on localhost:3002"}),(0,r.jsx)(n.td,{children:"Docs accessible on localhost:3002"}),(0,r.jsx)(n.td,{children:"None"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary-table---all-variables",children:"Summary Table - All Variables"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Dev Value"}),(0,r.jsx)(n.th,{children:"Prod Value"}),(0,r.jsx)(n.th,{children:"Changes"}),(0,r.jsx)(n.th,{children:"Criticality"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Backend NODE_ENV"})}),(0,r.jsx)(n.td,{children:"development"}),(0,r.jsx)(n.td,{children:"production"}),(0,r.jsx)(n.td,{children:"\u2705 YES"}),(0,r.jsx)(n.td,{children:"\ud83d\udd34 Critical"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Backend PORT"})}),(0,r.jsx)(n.td,{children:"3001"}),(0,r.jsx)(n.td,{children:"3001"}),(0,r.jsx)(n.td,{children:"\u274c NO"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"FRONTEND_URL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://localhost:5173",children:"http://localhost:5173"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://accessibility.icjia.app",children:"https://accessibility.icjia.app"})}),(0,r.jsx)(n.td,{children:"\u2705 YES"}),(0,r.jsx)(n.td,{children:"\ud83d\udd34 Critical"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"VITE_SUPABASE_URL"})}),(0,r.jsx)(n.td,{children:"Same"}),(0,r.jsx)(n.td,{children:"Same"}),(0,r.jsx)(n.td,{children:"\u274c NO"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"VITE_SUPABASE_ANON_KEY"})}),(0,r.jsx)(n.td,{children:"Same"}),(0,r.jsx)(n.td,{children:"Same"}),(0,r.jsx)(n.td,{children:"\u274c NO"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Docs NODE_ENV"})}),(0,r.jsx)(n.td,{children:"development"}),(0,r.jsx)(n.td,{children:"production"}),(0,r.jsx)(n.td,{children:"\u2705 YES"}),(0,r.jsx)(n.td,{children:"\ud83d\udd34 Critical"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Docs PORT"})}),(0,r.jsx)(n.td,{children:"3002"}),(0,r.jsx)(n.td,{children:"3002"}),(0,r.jsx)(n.td,{children:"\u274c NO"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 None"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"deployment-checklist",children:"Deployment Checklist"}),"\n",(0,r.jsx)(n.h3,{id:"before-production-deployment",children:"Before Production Deployment"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify ",(0,r.jsx)(n.code,{children:"NODE_ENV"})," is set to ",(0,r.jsx)(n.code,{children:"production"})," for both services"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify ",(0,r.jsx)(n.code,{children:"FRONTEND_URL"})," is set to ",(0,r.jsx)(n.code,{children:"https://accessibility.icjia.app"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify ",(0,r.jsx)(n.code,{children:"VITE_SUPABASE_URL"})," and ",(0,r.jsx)(n.code,{children:"VITE_SUPABASE_ANON_KEY"})," are correct"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify ports 3001 and 3002 are not exposed externally (Nginx handles routing)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test CORS by making requests from production domain"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify Docusaurus builds with production optimizations"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test backend health check: ",(0,r.jsx)(n.code,{children:"curl https://accessibility.icjia.app/api/health"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"switching-between-environments",children:"Switching Between Environments"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"To Development:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pm2 start ecosystem.config.js\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"To Production:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pm2 start ecosystem.config.js --env production\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Verify Current Environment:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pm2 show icjia-accessibility-backend\npm2 show icjia-accessibility-docs\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"environment-specific-behavior",children:"Environment-Specific Behavior"}),"\n",(0,r.jsx)(n.h3,{id:"development-environment",children:"Development Environment"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Hot reload enabled for code changes"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Verbose logging for debugging"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 CORS allows localhost:5173 (Vite dev server)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Docusaurus live reload enabled"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Slower startup but easier development"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"production-environment",children:"Production Environment"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Optimized performance"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Minimal logging (only errors)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 CORS allows only accessibility.icjia.app"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Docusaurus static files optimized"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Faster startup and response times"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/docs/deployment/pm2-ecosystem-config",children:"PM2 Ecosystem Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/docs/deployment/pm2-verification",children:"PM2 Verification Report"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/docs/configuration/env-configuration",children:"Environment Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/docs/deployment/production",children:"Production Deployment"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},3023:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var i=s(3696);const r={},d=i.createContext(r);function t(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);